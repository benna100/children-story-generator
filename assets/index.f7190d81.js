(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=n(l);fetch(l.href,i)}})();function j(){}function Te(t){return t()}function we(){return Object.create(null)}function U(t){t.forEach(Te)}function Be(t){return typeof t=="function"}function pe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ne;function ke(t,e){return ne||(ne=document.createElement("a")),ne.href=e,t===ne.href}function Me(t){return Object.keys(t).length===0}function u(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function v(t){t.parentNode.removeChild(t)}function Pe(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function Z(t){return document.createTextNode(t)}function b(){return Z(" ")}function Oe(){return Z("")}function K(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function s(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ne(t){return Array.from(t.childNodes)}function Ge(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function F(t,e){t.value=e==null?"":e}function _(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let me;function ee(t){me=t}const X=[],Ie=[],oe=[],Se=[],Ke=Promise.resolve();let ue=!1;function Ve(){ue||(ue=!0,Ke.then(je))}function fe(t){oe.push(t)}const ae=new Set;let re=0;function je(){const t=me;do{for(;re<X.length;){const e=X[re];re++,ee(e),qe(e.$$)}for(ee(null),X.length=0,re=0;Ie.length;)Ie.pop()();for(let e=0;e<oe.length;e+=1){const n=oe[e];ae.has(n)||(ae.add(n),n())}oe.length=0}while(X.length);for(;Se.length;)Se.pop()();ue=!1,ae.clear(),ee(t)}function qe(t){if(t.fragment!==null){t.update(),U(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(fe)}}const ie=new Set;let ze;function se(t,e){t&&t.i&&(ie.delete(t),t.i(e))}function de(t,e,n,r){if(t&&t.o){if(ie.has(t))return;ie.add(t),ze.c.push(()=>{ie.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function He(t){t&&t.c()}function he(t,e,n,r){const{fragment:l,on_mount:i,on_destroy:a,after_update:o}=t.$$;l&&l.m(e,n),r||fe(()=>{const d=i.map(Te).filter(Be);a?a.push(...d):U(d),t.$$.on_mount=[]}),o.forEach(fe)}function ge(t,e){const n=t.$$;n.fragment!==null&&(U(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Fe(t,e){t.$$.dirty[0]===-1&&(X.push(t),Ve(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _e(t,e,n,r,l,i,a,o=[-1]){const d=me;ee(t);const c=t.$$={fragment:null,ctx:null,props:i,update:j,not_equal:l,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:we(),dirty:o,skip_bound:!1,root:e.target||d.$$.root};a&&a(c.root);let m=!1;if(c.ctx=n?n(t,e.props||{},(h,S,...P)=>{const x=P.length?P[0]:S;return c.ctx&&l(c.ctx[h],c.ctx[h]=x)&&(!c.skip_bound&&c.bound[h]&&c.bound[h](x),m&&Fe(t,h)),S}):[],c.update(),m=!0,U(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const h=Ne(e.target);c.fragment&&c.fragment.l(h),h.forEach(v)}else c.fragment&&c.fragment.c();e.intro&&se(t.$$.fragment),he(t,e.target,e.anchor,e.customElement),je()}ee(d)}class ye{$destroy(){ge(this,1),this.$destroy=j}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!Me(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}async function le({prompt:t,fake:e,openAiKey:n}){if(e)return`Ingeborg m\xF8der en delfin der kan spille guitar. Delfinen spiller en melodi, og Ingeborg synes, at det er den smukkeste musik, hun nogensinde har h\xF8rt. 
    Hun sp\xF8rger delfinen, om den kan l\xE6re hende at spille guitar. 
    Delfinen svarer, at det kan den godt. S\xE5 Ingeborg og delfinen begynder at spille guitar sammen. Og Ingeborg synes, at det er s\xE5 sjovt, at hun aldrig vil stoppe igen.`;const l=await(await fetch("https://api.openai.com/v1/completions",{headers:{"content-type":"application/json",Authorization:`Bearer ${n}`},method:"post",body:JSON.stringify({model:"text-davinci-003",prompt:t,temperature:.5,presence_penalty:.75,frequency_penalty:.25,max_tokens:500})})).json();return console.log(l),l&&Array.isArray(l.choices)?l.choices[0].text&&l.choices[0].text.trim():!1}async function Ae({prompt:t,prefix:e="",suffix:n="",fake:r,openAiKey:l}){return new Promise((i,a)=>{if(r)return setTimeout(()=>{console.log("2"),i("https://cdn.dribbble.com/users/965441/screenshots/16233874/media/ac1494cf02cfce24c2e864bce1c2136a.jpg?compress=1&resize=1600x1200&vertical=top")},500);window.FAKE_DAT_IMAGE&&i("https://media.discordapp.net/attachments/903695121810346076/1034949174497648672/DALLE_2022-10-26_23.58.15_-_An_illustration_of_a_child_that_meets_a_dolphin_that_can_play_guitar_Childrens_Book_Illustration_taylor_barron_basia_tran.png"),fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"content-type":"application/json",Authorization:"Bearer "+l},body:JSON.stringify({prompt:t,n:1,size:"512x512"})}).then(o=>o.json()).then(o=>{i(o.data[0].url)}).catch(o=>{a(o)})})}function R(t){let e=localStorage.getItem(t);return e&&e!=="null"&&e!==""}function Ee(t,e,n){const r=t.slice();return r[19]=e[n],r[21]=n,r}function Le(t){let e,n,r;return{c(){e=p("button"),e.textContent="Generer din egen historie",s(e,"class","btn btn-primary mt-6 bottom-3 w-60 self-center fixed")},m(l,i){w(l,e,i),n||(r=K(e,"click",t[8]),n=!0)},p:j,d(l){l&&v(e),n=!1,r()}}}function $e(t){let e;return{c(){e=p("button"),e.innerHTML='<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Vent venligst...',s(e,"class","btn btn-info w-84 self-center mt-6")},m(n,r){w(n,e,r)},p:j,d(n){n&&v(e)}}}function Ye(t){let e,n,r;return{c(){e=p("button"),e.textContent="Generer din historie",s(e,"id","button-go"),s(e,"class","btn btn-primary mt-6 w-60 self-center")},m(l,i){w(l,e,i),n||(r=K(e,"click",t[7]),n=!0)},p:j,d(l){l&&v(e),n=!1,r()}}}function Ce(t){let e;return{c(){e=p("div"),e.textContent="Din historie:",s(e,"class","divider mb-10")},m(n,r){w(n,e,r)},d(n){n&&v(e)}}}function Je(t){let e;return{c(){e=p("div"),e.innerHTML=`<svg class="animate-spin -ml-1 mr-3 h-12 w-12 text-primary m-8" style="margin: 0 auto;" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> 
      <p class="mt-2 opacity-70 font-bold">henter dit billede</p>`,s(e,"class","flex align-center pt-24 flex-col bg-base-300 rounded text-center"),_(e,"height","270px"),_(e,"width","calc(100% - 12px)"),_(e,"border-radius","8px"),_(e,"margin","0 auto")},m(n,r){w(n,e,r)},p:j,d(n){n&&v(e)}}}function Qe(t){let e,n;return{c(){e=p("img"),ke(e.src,n=t[19].image)||s(e,"src",n),s(e,"class","object-cover"),_(e,"width","calc(100% - 12px)"),_(e,"border-radius","8px"),_(e,"margin","0 auto")},m(r,l){w(r,e,l)},p(r,l){l&64&&!ke(e.src,n=r[19].image)&&s(e,"src",n)},d(r){r&&v(e)}}}function Re(t){let e,n,r,l,i,a,o;return{c(){e=p("div"),n=p("button"),n.innerHTML='<span class="pointer-events-none">Print story</span>',r=b(),l=p("button"),l.innerHTML='<span class="pointer-events-none">Lav en ny historie</span>',i=b(),s(n,"class","btn btn-primary w-60 self-center mr-4"),s(l,"class","btn btn-primary w-60 self-center"),s(e,"class","flex justify-center mt-12")},m(d,c){w(d,e,c),u(e,n),u(e,r),u(e,l),u(e,i),a||(o=[K(n,"click",print),K(l,"click",window.location.reload)],a=!0)},p:j,d(d){d&&v(e),a=!1,U(o)}}}function Ue(t){let e,n,r,l,i;return{c(){e=p("div"),n=p("button"),n.innerHTML='<span class="pointer-events-none">Forts\xE6t historien</span><div style="display:none;" class="flex"><svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Vent venligst...</div>',r=b(),s(n,"class","btn btn-primary w-60 self-center"),s(e,"class","text-center p-8"),s(e,"id","continue-history")},m(a,o){w(a,e,o),u(e,n),u(e,r),l||(i=K(n,"click",t[9]),l=!0)},p:j,d(a){a&&v(e),l=!1,i()}}}function De(t){let e,n,r,l=t[21]+1+"",i,a,o,d,c=t[19].story+"",m,h,S,P;function x(g,C){return g[19].image?Qe:Je}let V=x(t),E=V(t);function $(g,C){return g[21]<2?Ue:Re}let q=$(t)(t);return{c(){e=p("div"),n=p("div"),r=p("h2"),i=Z(l),a=Z("."),o=b(),d=p("p"),m=Z(c),h=b(),E.c(),S=b(),q.c(),P=Oe(),s(r,"class","font-bold text-2xl opacity-60"),s(d,"class","pt-4"),_(d,"line-height","2.5rem"),_(d,"font-size","1.5rem"),_(d,"white-space","break-spaces"),s(n,"class","p-10"),s(e,"class","bg-base-100"),_(e,"margin","0 auto"),_(e,"overflow","auto"),_(e,"min-height","400px"),_(e,"max-width","800px"),_(e,"border-radius","8px"),s(e,"id","chap-"+t[21])},m(g,C){w(g,e,C),u(e,n),u(n,r),u(r,i),u(r,a),u(n,o),u(n,d),u(d,m),u(e,h),E.m(e,null),w(g,S,C),q.m(g,C),w(g,P,C)},p(g,C){C&64&&c!==(c=g[19].story+"")&&Ge(m,c),V===(V=x(g))&&E?E.p(g,C):(E.d(1),E=V(g),E&&(E.c(),E.m(e,null))),q.p(g,C)},d(g){g&&v(e),E.d(),g&&v(S),q.d(g),g&&v(P)}}}function We(t){let e,n,r,l,i,a,o,d,c,m,h,S,P,x,V,E,$,B,q,g,C,y,Y,O,N,I,z,k,M,W,be,D=t[5]&&Le(t);function ve(f,A){return f[4]?$e:Ye}let te=ve(t),G=te(t),H=t[6].length>0&&Ce(),J=t[6],T=[];for(let f=0;f<J.length;f+=1)T[f]=De(Ee(t,J,f));return{c(){e=p("h1"),e.textContent="Generer din egen b\xF8rnebog \u{1F4D6}",n=b(),r=p("div"),l=p("div"),i=p("div"),a=p("div"),o=p("p"),o.textContent="Barnets navn",d=b(),c=p("input"),m=b(),h=p("div"),S=p("p"),S.textContent="Barnets alder",P=b(),x=p("input"),V=b(),E=p("p"),E.textContent="Hvad skal historien handle om?",$=b(),B=p("textarea"),q=b(),g=p("p"),g.innerHTML='OpenAI api-n\xF8gle <a class="underline" target="_blank" href="https://github.com/benna100/children-story-generator/blob/main/open-ai-signup.md#s%C3%A5dan-opretter-du-din-openai-api-n%C3%B8gle">guide her</a>',C=b(),y=p("input"),Y=b(),D&&D.c(),O=b(),G.c(),N=b(),I=p("div"),H&&H.c(),z=b();for(let f=0;f<T.length;f+=1)T[f].c();k=b(),M=p("footer"),M.innerHTML='<p>Lavet af <a class="underline" href="https://github.com/dditlev">Ditlev</a> og <a class="underline" href="https://benna100.github.io/portfolio/">Benjamin</a></p>',s(e,"class","text-4xl pt-10 pb-10 text-center p-2"),s(o,"class",""),s(c,"class","input text-secondary-content mb-6 bg-secondary w-full placeholder:text-blue-800 placeholder-black::placeholder placeholder:text-blue-800"),s(c,"type","text"),s(c,"name","child-name"),s(c,"placeholder","fx. Valdemar"),s(a,"class","grow mr-3"),s(x,"class","input text-secondary-content mb-6 bg-secondary w-full placeholder:text-blue-800"),s(x,"name","age"),s(x,"type","text"),s(x,"placeholder","fx. 5"),s(h,"class","grow"),s(i,"class","flex w-full"),s(l,"class","flex"),s(B,"name","story-description"),s(B,"class","textarea block bg-secondary h-20 mb-10 w-full placeholder:text-blue-800"),s(B,"id",""),s(B,"placeholder","fx. Historien skal handle om Ingeborg der ser en regnbue"),s(y,"class","input text-secondary-content mb-6 bg-secondary w-full placeholder:text-blue-800"),s(y,"type","password"),s(y,"placeholder","Skriv din OpenAI api-n\xF8gle her"),s(y,"name","openai-key"),s(r,"class","p-6 text-2xl w-full flex flex-col justify-items-center"),s(r,"id","story-generator"),_(r,"margin","0 auto"),_(r,"max-width","800px"),s(I,"id","generated-story"),s(M,"class","flex mt-24 justify-center")},m(f,A){w(f,e,A),w(f,n,A),w(f,r,A),u(r,l),u(l,i),u(i,a),u(a,o),u(a,d),u(a,c),F(c,t[0]),u(i,m),u(i,h),u(h,S),u(h,P),u(h,x),F(x,t[2]),u(r,V),u(r,E),u(r,$),u(r,B),F(B,t[1]),u(r,q),u(r,g),u(r,C),u(r,y),F(y,t[3]),u(r,Y),D&&D.m(r,null),u(r,O),G.m(r,null),w(f,N,A),w(f,I,A),H&&H.m(I,null),u(I,z);for(let L=0;L<T.length;L+=1)T[L].m(I,null);w(f,k,A),w(f,M,A),W||(be=[K(c,"input",t[10]),K(x,"input",t[11]),K(B,"input",t[12]),K(y,"input",t[13])],W=!0)},p(f,[A]){if(A&1&&c.value!==f[0]&&F(c,f[0]),A&4&&x.value!==f[2]&&F(x,f[2]),A&2&&F(B,f[1]),A&8&&y.value!==f[3]&&F(y,f[3]),f[5]?D?D.p(f,A):(D=Le(f),D.c(),D.m(r,O)):D&&(D.d(1),D=null),te===(te=ve(f))&&G?G.p(f,A):(G.d(1),G=te(f),G&&(G.c(),G.m(r,null))),f[6].length>0?H||(H=Ce(),H.c(),H.m(I,z)):H&&(H.d(1),H=null),A&576){J=f[6];let L;for(L=0;L<J.length;L+=1){const xe=Ee(f,J,L);T[L]?T[L].p(xe,A):(T[L]=De(xe),T[L].c(),T[L].m(I,null))}for(;L<T.length;L+=1)T[L].d(1);T.length=J.length}},i:j,o:j,d(f){f&&v(e),f&&v(n),f&&v(r),D&&D.d(),G.d(),f&&v(N),f&&v(I),H&&H.d(),Pe(T,f),f&&v(k),f&&v(M),W=!1,U(be)}}}const Q=!1;function Xe(t,e,n){let r,l,i,a,o,d=R("CHILD_NAME")?localStorage.getItem("CHILD_NAME"):"",c=R("CHILD_AGE")?localStorage.getItem("CHILD_AGE"):"",m=R("OPENAI_KEY")?localStorage.getItem("OPENAI_KEY"):"",h=R("STADIFF_KEY")?localStorage.getItem("STADIFF_KEY"):"",S=!1;const P=async()=>{localStorage.setItem("CHILD_NAME",r),localStorage.setItem("CHILD_AGE",l),m&&localStorage.setItem("OPENAI_KEY",m),h&&localStorage.setItem("STADIFF_KEY",h),n(4,S=!0),console.log("original prompt:",a);let y=await le({prompt:a,fake:Q,openAiKey:m}).catch(I=>{alert(I)});y=y.replaceAll(' "',`

"`),y=y.replaceAll('" ',`"

`),console.log("story: ",y),n(4,S=!1),o.push({story:y,prompt:a}),n(6,o),setTimeout(()=>{document.getElementById("chap-"+(o.length-1)).scrollIntoView({behavior:"smooth",block:"start"})},100),console.log(o);const Y=`${y} 
Short english summary description of an image illustrating the story: `,O=await le({prompt:Y,fake:Q,openAiKey:m}).catch(I=>{alert(I)});console.log("Summary: ",O);const N=`a cute adorable kids book watercolor illustration of ${O}. Quentin blake, Lulu Chen, Maurice sendak, Highly Detailed, Le petit prince, The little prince. Exquisite lighting, clear focus, very coherent, character design, concept, atmospheric`.replace(r," a child");console.log(N),console.log("Image prompt: ",N),Ae({prompt:N,fake:Q,openAiKey:m}).then(I=>{n(6,o=o.map((z,k)=>k===o.length-1?{...z,image:I}:z)),console.log(o),n(4,S=!1)}).catch(I=>{alert(I)})};let x=!1;const V=()=>{console.log(1),n(5,x=!0)},E=()=>{setTimeout(()=>{document.querySelector("h1").scrollIntoView({behavior:"smooth",block:"start"})},100),n(6,o=[]),n(0,r=""),n(2,l=""),n(1,i=""),setTimeout(()=>{n(5,x=!1)},300)};window.showGenerateStoryButton=V;const $=async y=>{const Y=y.target;y.target.children[0].style.display="none",y.target.children[1].style.display="",console.log("previous:",o[o.length-1]),console.log("next prompt",[a,...o.map(k=>k.story)].join(" ")),console.log("next prompt 2",[a,...o.map((k,M)=>k.story+`
Side ${M+2}: 
`)].join(" "));const O=await le({prompt:[a,...o.map((k,M)=>k.story+`
Side ${M+2}: 
`)].join(" ")+" ",fake:Q,openAiKey:m}).catch(k=>{alert(k)});console.log("continuingStory",O),o.push({story:O}),console.log("chapters",o),n(6,o),setTimeout(()=>{document.getElementById("chap-"+(o.length-1)).scrollIntoView({behavior:"smooth",block:"start"})},100);const N=`${O} 
Short english summary description of an image illustrating the story: `;console.log("englishOneliner",N);const z=`a cute adorable kids book watercolor illustration of ${await le({prompt:N,fake:Q,openAiKey:m}).catch(k=>{alert(k)})}. Quentin blake, Lulu Chen, Maurice sendak, Highly Detailed, Le petit prince, The little prince. Exquisite lighting, clear focus, very coherent, character design, concept, atmospheric`.replace(r," a child");console.log("imagePromptText",z),Ae({prompt:z,fake:Q,openAiKey:m}).then(k=>{n(6,o=o.map((M,W)=>W===o.length-1?{...M,image:k}:M))}).catch(k=>{alert(k)}),Y.parentNode.remove()};function B(){r=this.value,n(0,r),n(15,d)}function q(){l=this.value,n(2,l),n(16,c)}function g(){i=this.value,n(1,i)}function C(){m=this.value,n(3,m)}return t.$$.update=()=>{t.$$.dirty&7&&(a=`Det f\xF8lgende er en fjollet, sjov, s\xF8d og nuttet historie til et ${l} \xE5rigt barn, barnet hedder ${r}. ${i}.
Side 1: 
`)},n(0,r=d),n(2,l=c),n(1,i=""),n(6,o=[]),[r,i,l,m,S,x,o,P,E,$,B,q,g,C]}class Ze extends ye{constructor(e){super(),_e(this,e,Xe,We,pe,{})}}function et(t){let e,n,r,l,i,a,o,d,c,m;return{c(){e=p("div"),n=p("div"),r=p("div"),l=p("h1"),l.textContent="Generer din helt egen b\xF8rnebog",i=b(),a=p("p"),a.textContent="Med et navn, en alder og en lille historie, kan du skabe dine helt egne b\xF8rnehistorier, lige klar til opl\xE6sning",o=b(),d=p("button"),d.textContent="Vis mig et eksempel",s(l,"class","text-5xl font-bold text-center"),_(l,"line-height","4rem"),s(a,"class","py-6"),s(d,"class","btn btn-primary"),_(d,"max-width","300px"),s(r,"class","flex flex-col justify-center items-center"),_(r,"max-width","500px"),s(n,"class","hero p-6 bg-base-200 flex flex-col justify-center items-center"),_(n,"height","50vh"),s(n,"id","intro-hero")},m(h,S){w(h,e,S),u(e,n),u(n,r),u(r,l),u(r,i),u(r,a),u(r,o),u(r,d),c||(m=K(d,"click",t[0]),c=!0)},p:j,i:j,o:j,d(h){h&&v(e),c=!1,m()}}}function ce(t,e){let n=t.value;t.value="";var r=0,l=setInterval(function(){r<n.length?(t.value=t.value+n.charAt(r),r++):clearInterval(l)},e)}function tt(t){const e=(l=1e3)=>new Promise((i,a)=>{setTimeout(i,l)});window.FAKE_DAT_IMAGE=!0;async function n(){const l=document.querySelector("input[name=child-name]"),i=document.querySelector("input[name=age]"),a=document.querySelector("textarea[name=story-description]");document.querySelector("input[name=openai-key]"),document.querySelector("input[name=stable-diffusion-key]");const o=100;let d="Ingeborg";l.value=d,ce(l,o),await e(o*d.length);let c=4;i.value=c,ce(i,o),await e(225);let m="Ingeborg m\xF8der en delfin der kan spille guitar...";a.value=m,ce(a,o),await e(o*m.length);const h=`<div id="generated-story"><div class="divider mb-10">Din historie:</div> <div class="bg-base-100" style="margin: 0px auto; overflow: auto; min-height: 400px; max-width: 800px; border-radius: 8px;" id="chap-0"><div class="p-10"><h2 class="font-bold text-2xl opacity-60">1.</h2> <p class="pt-4" style="line-height: 2.5rem; font-size: 1.5rem; white-space: break-spaces;">Delfinen svarer:

"Ja, det kan jeg godt. Men det kr\xE6ver, at du l\xE6rer mig et par ting om guitar f\xF8rst."


Ingeborg er meget glad for at have m\xF8dt den s\xF8de delfin, og de to bliver hurtigt venner. Delfinen l\xE6rer Ingeborg at spille guitar, og Ingeborg l\xE6rer delfinen nogle tricks til at spille bedre. 
De to bliver snart rigtig gode venner, og de spiller ofte guitar sammen. De har det s\xE5 sjovt, at de aldrig vil skilles igen.</p></div> <img src="https://media.discordapp.net/attachments/903695121810346076/1034949174497648672/DALLE_2022-10-26_23.58.15_-_An_illustration_of_a_child_that_meets_a_dolphin_that_can_play_guitar_Childrens_Book_Illustration_taylor_barron_basia_tran.png" class="object-cover" style="width: calc(100% - 12px); border-radius: 8px; margin: 0px auto;"></div><div class="flex justify-center"><a class="btn btn-primary mt-6 w-60 self-center" href="https://benna100.github.io/children-story-generator/">Generer din historie</a></div>`;document.getElementById("generated-story").innerHTML=h,document.getElementById("generated-story").scrollIntoView({behavior:"smooth"}),localStorage.setItem("SPLASH_DISPLAYED","true")}function r(){const l=document.getElementById("story-inputter");l&&(l.style.opacity="1",l.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{document.getElementById("intro-hero").remove()},250),n())}return[r]}class nt extends ye{constructor(e){super(),_e(this,e,tt,et,pe,{})}}function rt(t){let e,n;return e=new nt({}),{c(){He(e.$$.fragment)},m(r,l){he(e,r,l),n=!0},i(r){n||(se(e.$$.fragment,r),n=!0)},o(r){de(e.$$.fragment,r),n=!1},d(r){ge(e,r)}}}function lt(t){let e,n=!R("SPLASH_DISPLAYED"),r,l,i,a,o=n&&rt();return i=new Ze({}),{c(){e=p("main"),o&&o.c(),r=b(),l=p("div"),He(i.$$.fragment),s(l,"id","story-inputter"),s(l,"class","mb-24"),_(l,"opacity",R("SPLASH_DISPLAYED")?1:.2),s(e,"class","bg-primary"),_(e,"min-height","100vh"),s(e,"id","main")},m(d,c){w(d,e,c),o&&o.m(e,null),u(e,r),u(e,l),he(i,l,null),a=!0},p:j,i(d){a||(se(o),se(i.$$.fragment,d),a=!0)},o(d){de(o),de(i.$$.fragment,d),a=!1},d(d){d&&v(e),o&&o.d(),ge(i)}}}class ot extends ye{constructor(e){super(),_e(this,e,null,lt,pe,{})}}new ot({target:document.getElementById("app")});
